# -*- coding: utf-8 -*-

"""
Copyright (C) 2022, Zato Source s.r.o. https://zato.io

Licensed under LGPLv3, see LICENSE.txt for terms and conditions.
"""

# ################################################################################################################################
# ################################################################################################################################

if 0:
    from zato.common.typing_ import callable_
    from zato.server.base.parallel import ParallelServer

# ################################################################################################################################
# ################################################################################################################################

class MarkAPI:

    odb_session_func: 'callable_'

    def post_configure(
        self,
        odb_session_func: 'callable_'
    ) -> 'None':

        self.odb_session_func = odb_session_func

# ################################################################################################################################

    def mark(self, step:'str') -> 'None':
        pass

# ################################################################################################################################
# ################################################################################################################################

class ChecklistAPI:

    server: 'ParallelServer'
    encrypt_func: 'callable_'
    decrypt_func: 'callable_'
    odb_session_func: 'callable_'

    def __init__(
        self,
        server, # type: ParallelServer
    ) -> 'None':

        self.server = server
        self.mark_api = MarkAPI()

        # Forward declarations
        self.mark = self.mark_api.mark

# ################################################################################################################################

    def post_configure(
        self,
        odb_session_func: 'callable_'
    ) -> 'None':

        self.odb_session_func = odb_session_func
        self.mark_api.post_configure(odb_session_func)

# ################################################################################################################################
# ################################################################################################################################

# ################################################################################################################################
# ################################################################################################################################
