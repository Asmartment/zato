{% extends "zato/index.html" %}

{% block html_title %}{{ service.name }} - Source{% endblock %}

{% block "content" %}

<script type="text/javascript" src="/static/js/common.js"></script>
<script type="text/javascript" src="/static/js/service/ide.js"></script>

<link rel="stylesheet" media="screen" href="/static/css/service/ide.css" />

<div id="main-area-container">
    <div class="item">
        <div id="editor">
if __name__ == '__main__':

    env_key_name = 'ZATO_SERVER_BASE_DIR'
    env_server_base_dir = os.environ.get(env_key_name)

    if env_server_base_dir:


        server_base_dir = env_server_base_dir
        cmd_line_options = {
            'fg':True,
            'sync_internal':True,
            'secret_key':'',
            'stderr_path':None,
        }
    else:
        server_base_dir = sys.argv[1]
        cmd_line_options = sys.argv[2]
        cmd_line_options = parse_cmd_line_options(cmd_line_options)

    if not os.path.isabs(server_base_dir):
        server_base_dir = os.path.abspath(os.path.join(os.getcwd(), server_base_dir))

    run(server_base_dir, options=cmd_line_options)
        </div>
    </div>
    <div id="action-area-container">
        <div id="action-area-header" data-is-expanded="false">
            <a href="javascript:$.fn.zato.editor.toggle_action_area()" class="img-button"><img src="/static/gfx/editor/resize.png" class="button" title="Resize this area" /></a>
            <select>
                <option>api.adapter.crm.customer.create</option>
                <option>api.adapter.crm.customer.delete</option>
            </select>
        </div>
        <div id="action-area" class="item item-2">
            <table class="file-system-listing">
                <tr class="header">
                    <td colspan="2" class="header">
                        <div id="header-links-wrapper">
                            <div id="header-links-left"></div>
                            <div id="header-links-right"></div>
                        </div>
                    </td>
                </tr>
                <tr class="header">
                    <td colspan="2" class="header">
                        <span id="header-status" class="dimmed"></span>
                    </td>
                </tr>
            </table>
            <div id="file-system-listing-div">
            <table class="file-system-listing">

                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_banking.py</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_healthcare_hl7_fhir.py</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#"><b>demo_telco_5g.py</b> *</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_telco_network_security_visibility.py</a></td>
                </tr>

                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_banking.py</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_healthcare_hl7_fhir.py</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#"><b>demo_telco_5g.py</b> *</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_telco_network_security_visibility.py</a></td>
                </tr>

                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_banking.py</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_healthcare_hl7_fhir.py</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#"><b>demo_telco_5g.py</b> *</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_telco_network_security_visibility.py</a></td>
                </tr>

                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_banking.py</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_healthcare_hl7_fhir.py</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#"><b>demo_telco_5g.py</b> *</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_telco_network_security_visibility.py</a></td>
                </tr>

                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_banking.py</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_healthcare_hl7_fhir.py</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#"><b>demo_telco_5g.py</b> *</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_telco_network_security_visibility.py</a></td>
                </tr>

                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_banking.py</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_healthcare_hl7_fhir.py</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#"><b>demo_telco_5g.py</b> *</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_telco_network_security_visibility.py</a></td>
                </tr>

                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_banking.py</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_healthcare_hl7_fhir.py</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#"><b>demo_telco_5g.py</b> *</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_telco_network_security_visibility.py</a></td>
                </tr>

                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_banking.py</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_healthcare_hl7_fhir.py</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#"><b>demo_telco_5g.py</b> *</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_telco_network_security_visibility.py</a></td>
                </tr>

                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_banking.py</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_healthcare_hl7_fhir.py</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#"><b>demo_telco_5g.py</b> *</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_telco_network_security_visibility.py</a></td>
                </tr>


                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_banking.py</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_healthcare_hl7_fhir.py</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#"><b>demo_telco_5g.py</b> *</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_telco_network_security_visibility.py</a></td>
                </tr>

                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_banking.py</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_healthcare_hl7_fhir.py</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#"><b>demo_telco_5g.py</b> *</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_telco_network_security_visibility.py</a></td>
                </tr>

                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_banking.py</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_healthcare_hl7_fhir.py</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#"><b>demo_telco_5g.py</b> *</a></td>
                </tr>
                <tr class="file-listing-tr">
                    <td class="item-header"><img src="/static/gfx/editor/icons/python.png" class="fs-icon" /></td>
                    <td class="item-name"><a href="#">demo_telco_network_security_visibility.py</a></td>
                </tr>
                <tr colspan="2" class="invoker-tr">
                    <td class="data-input-field-name" title="This field is required">
                        customer_id *
                        <br/>
                        <input type="text" class="data-request" placeholder="customer_id"/>
                    </td>
                </tr>

                <tr colspan="2" class="invoker-tr">
                    <td class="data-input-field-name" title="This field is optional">
                        account_id
                        <br/>
                        <input type="text" class="data-request" placeholder="account_id"/>
                    </td>
                </tr>

                <tr colspan="2" class="invoker-tr">
                    <td class="data-input-field-name" title="This field is optional">
                        account_number
                        <br/>
                        <input type="text" class="data-request" placeholder="account_number"/>
                    </td>
                </tr>
                <tr colspan="2" class="invoker-tr">
                    <td>
                        <input type="button" value="Invoke" />
                    </td>
                </tr>
                <tr colspan="2" class="invoker-tr">
                    <td>
                        <br/>
                        <span class="dimmed">Response 200 OK</span> <a href="#">Copy</a>
                        <textarea id="data-response">
{
    "RecordType": "MO",
    "SystemIdentity": "ga",
    "FileNum": "54",
    "SwitchNum": "US",
    "CallingNum": "12345567",
    "CallingIMSI": "1234556700911",
    "CalledNum": "77191972",
    "CalledIMSI": "091716266251113",
    "DateS": "20220311",
    "TimeS": null,
    "TimeType": 2,
    "CallPeriod": 313,
    "CallingCellID": null,
    "CalledCellID": null,
    "ServiceType": "S",
    "Transfer": 1,
    "IncomingTrunk": null,
    "OutgoingTrunk": "3456",
    "MSRN": "817296834",
    "CalledNum2": null,
    "FCIFlag": null,
    "callrecTime": "2022-03-11T11:22:33.0000000Z",
    "EventProcessedUtcTime": "2022-03-11T11:22:33.0000000Z",
    "PartitionId": 5,
    "EventEnqueuedUtcTime": "2022-03-11T11:22:33.0000000Z"
}
                        </textarea>
                    </td>
                </tr>
            </table>
            </div>

        </div>
    </div>
    <div id="side-menu" class="item">

        <ul class="side-buttons">
            <li>
                <a href="javascript:$.fn.zato.editor.switch_to_action_area('browser')" class="img-button">
                    <img src="/static/gfx/editor/files.png" class="button" title="Browse files on server" />
                </a>
            </li>
            <li>
                <a href="javascript:$.fn.zato.editor.switch_to_action_area('invoker')" class="img-button">
                    <img src="/static/gfx/editor/play.png" class="button" title="Invoke the current service" />
                </a>
            </li>
            <li>
                <a href="javascript:$.fn.zato.editor.switch_to_action_area('info')" class="img-button">
                    <img src="/static/gfx/editor/icons/data-models.png" class="button" title="Data models" />
                </a>
            </li>
        </ul>

    </div>
  </div>

<script src="/static/ace-builds/src/ace.js" type="text/javascript" charset="utf-8"></script>
<script src="/static/ace-builds/src/ext-error_marker.js" type="text/javascript" charset="utf-8"></script>
<script src="/static/ace-builds/src/ext-language_tools.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
    $.fn.zato.editor.init_editor();
</script>

{% endblock %}
