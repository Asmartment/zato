{% extends "zato/index.html" %}

{% block html_title %}{{ service.name }} - Source{% endblock %}

{% block "content" %}



<style type="text/css" media="screen">

    #editor {
        height: 87vh;
        width: 60%;
        border-right: 1px solid #ddd;
        border-bottom: 1px solid #ddd;
    }

    #editor-footer {
        background-color:yellow;
    }

</style>

<div id="editor">
    if __name__ == '__main__':

        env_key_name = 'ZATO_SERVER_BASE_DIR'
        env_server_base_dir = os.environ.get(env_key_name)

        if env_server_base_dir:


            server_base_dir = env_server_base_dir
            cmd_line_options = {
                'fg':True,
                'sync_internal':True,
                'secret_key':'',
                'stderr_path':None,
            }
        else:
            server_base_dir = sys.argv[1]
            cmd_line_options = sys.argv[2]
            cmd_line_options = parse_cmd_line_options(cmd_line_options)

        if not os.path.isabs(server_base_dir):
            server_base_dir = os.path.abspath(os.path.join(os.getcwd(), server_base_dir))

        run(server_base_dir, options=cmd_line_options)
</div>
<div id="editor-footer">
    Invoker
</div>

<script src="/static/ace-builds/src/ace.js" type="text/javascript" charset="utf-8"></script>
<script src="/static/ace-builds/src/ext-error_marker.js" type="text/javascript" charset="utf-8"></script>
<script src="/static/ace-builds/src/ext-language_tools.js" type="text/javascript" charset="utf-8"></script>
<script>
    var editor = ace.edit("editor");
    editor.setTheme("ace/theme/sqlserver");
    editor.session.setMode("ace/mode/python");

    editor.setOptions({
        enableBasicAutocompletion: true,
        enableSnippets: true,
        enableLiveAutocompletion: true,
        newLineMode: "unix",
        fontSize: 17,
        cursorStyle: "ace"
    });

</script>


{% endblock %}
